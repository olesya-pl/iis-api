{
  "aggs": {
    "amount.nameAggregate": {
      "filter": {
        "bool": {
          "should": [
            {
              "query_string": {
                "query": "*"
              }
            }
          ]
        }
      },
      "aggs": {
        "sub_amount.nameAggregate": {
          "terms": {
            "field": "amount.nameAggregate",
            "missing": "__hasNoValue",
            "size": 100
          }
        }
      }
    }
  }
}