using System;

namespace AcceptanceTests.Helpers.FileGenerators
{
    public static class Mp3Generator
    {
        private static readonly byte[] mp3template = new byte[] { 255, 251, 144, 68, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 88, 105, 110, 103, 0, 0, 0, 15, 0, 0, 0, 201, 0, 1, 186, 93, 0, 4, 7, 9, 12, 14, 16, 19, 21, 24, 27, 30, 32, 35, 37, 40, 42, 45, 48, 50, 53, 55, 58, 61, 63, 66, 68, 71, 73, 76, 78, 81, 84, 86, 88, 91, 94, 96, 99, 101, 104, 106, 109, 111, 114, 116, 119, 121, 124, 126, 129, 131, 134, 136, 139, 142, 144, 147, 149, 152, 154, 157, 159, 162, 164, 167, 169, 172, 174, 177, 179, 181, 184, 187, 189, 192, 194, 197, 199, 202, 204, 206, 209, 211, 214, 216, 219, 222, 224, 227, 229, 231, 234, 237, 239, 242, 244, 247, 250, 252, 0, 0, 0, 60, 76, 65, 77, 69, 51, 46, 49, 48, 48, 4, 175, 0, 0, 0, 0, 0, 0, 0, 0, 53, 32, 36, 2, 130, 77, 0, 1, 204, 0, 1, 186, 93, 196, 29, 53, 213, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 255, 251, 224, 68, 0, 0, 1, 206, 0, 78, 125, 0, 0, 8, 62, 64, 9, 253, 160, 0, 1, 32, 230, 23, 43, 185, 167, 128, 3, 147, 49, 168, 63, 53, 128, 0, 18, 82, 0, 38, 133, 73, 99, 104, 130, 129, 0, 195, 150, 80, 48, 113, 103, 196, 224, 252, 78, 14, 2, 0, 131, 160, 248, 62, 15, 248, 32, 115, 202, 2, 0, 134, 15, 234, 112, 62, 15, 159, 135, 249, 67, 159, 255 };
        
        public static (long, byte[]) Generate()
        {
            var mp3Size = 113245;
            var response = new byte[mp3Size];
            GenerateRandomData(response);
            FillFileStartWithMp3Template(response);
            return (mp3Size, response);
        }

        private static void GenerateRandomData(byte[] res)
        {
            new Random().NextBytes(res);
        }

        private static void FillFileStartWithMp3Template(byte[] res)
        {
            for (var index = 0; index < mp3template.Length; index++)
            {
                res[index] = mp3template[index];
            }
        }
    }
}
